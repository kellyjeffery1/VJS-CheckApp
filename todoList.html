<!DOCTYPE html>
<html>
  <head>
    <title>Todo list</title>
  </head>
  </head>
  <body>
    <h1>Todo List!</h1>
    <button id='displayTodosButton'>Display Todos</button>
    <button id="toggleAllButton">Toggle all</button>
   <script>

     const todoList = {
       todos: [],
       displayTodos: function(){
         console.log('My Todos:');
         if (this.todos.length === 0){
           console.log('your array is empty!');
         } else {
           console.log('My Todos:');
           for (let i = 0; i < this.todos.length; i++){
             if(this.todos[i].completed === true){
               console.log('(x)',this.todos[i].todoText);
             } else {
               console.log('()',this.todos[i].todoText);
             }
           }
         }  
       },
       addTodo: function(todoText){
         this.todos.push({ 
           todoText: todoText,
           completed: false
         });
         this.displayTodos();
       },
       changeTodo: function(position, todoText){
         this.todos[position].todoText = todoText
         ;
         this.displayTodos();
       },
       deleteTodo: function(position){
         this.todos.slice(position, 1);
         this.displayTodos();
       },
       toggleCompleted: function(position){
         const todo = this.todos[position];
         todo.completed = !todo.completed; 
         this.displayTodos();
       },
       toggleAll: function(){
         const totalTodos = this.todos.legnth;
         const completedTodos = 0
        //  get number of completed todos
         for(const i = 0; i < totalTodos; i++){
           if(this.todos[i].completed === true){
             completedTodos++;
           }
         }
         // case 1:if everything is true make everything false. 
         if(completedTodos === totalTodos){
          // make everything false
          for (const i = 0; i < totalTodos; i++){
            this.todos[i].completed = false
          }
          // case 2: make everything true 
         } else {
           for(const i = 0; i < totalTodos; i++){
             this.todos[i].completed === true;

           }
         }
         this.displayTodos();
       }
     }

     var getTodosButton = document.getElementById('displayTodosButton')
     console.log('displayTodosButton')

     var toggleAllButton = document.getElementById('toggleAllButton')
     console.log('toggleAllButton')

     toggleAllButton.addEventListener('click', function(){
       todoList.toggleAll();

     });

     displayTodosButton.addEventListener('click', function(){
       todoList.displayTodos();
     });
   </script>
  </body>
</html>